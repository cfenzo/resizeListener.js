/*! resizeListener.js | Author: Jens Anders Bakke (http://webfreak.no), 2014 | URL: https://github.com/cfenzo/resizeListener.js | Credits: object-based resize detection based on http://www.backalleycoder.com/2014/04/18/element-queries-from-the-feet-up/ | License: MIT */
!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.resizeListener=t()}(this,function(){function e(){var e=this;e.__trigger__||(e.__trigger__=u(function(){var t=e._lastSize||{width:e.offsetWidth,height:e.offsetHeight};e.__eq__.fn.forEach(function(n){n.call(e,t)}),e.__trigger__=null}))}function t(e,t){e.setAttribute(t,"true"),i(t);var _=document.createElement("object");return _.__queryelement__=e,_.onload=n,_.type="text/html",s||(_.data="about:blank"),e.appendChild(_),s&&(_.data="about:blank"),_}function n(){var t=this.__queryelement__,n=t.__eq__.doc=this.contentDocument,i=n.defaultView||n.parentWindow;n.__queryelement__=t,i.addEventListener("resize",function(){e.call(t)}),t.__eq__.loaded=!0,e.call(t)}function i(e){if(!h[e]){var t="["+e+"] {position: relative;} ["+e+"] > object {"+g+"}";c||(c=document.createElement("style"),c.type="text/css",c.id="resize-listener-styles",document.getElementsByTagName("head")[0].appendChild(c)),c.styleSheet?c.styleSheet.cssText=t:c.appendChild(document.createTextNode(t)),h[e]=!0}}function _(e){return e instanceof SVGElement||!!e.ownerSVGElement||!1}function o(e){-1===p.indexOf(e)&&p.push(e),f||a()}function r(e){var t=p.indexOf(e);t>-1&&p.splice(t,1),p.length<1&&window.clearInterval(f)}function a(){f=window.setInterval(function(){p.forEach(function(t){var n=t._lastSize||{width:0,height:0},i=t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight};(i.width!==n.width||i.height!==n.height)&&(t._lastSize=i,e.call(t))})},m)}function d(e,n,i){e.__eq__?e.__eq__.fn.push(n):(e.__eq__={},e.__eq__.fn=[n],i||_(e)?(o(e),e.__eq__.poller=!0):e.__eq__.object=t(e,"resize-sensor"))}function l(e,t){if(e.__eq__){if(t){var n=e.__eq__.fn.indexOf(t);if(n>-1&&e.__eq__.fn.splice(n,1),e.__eq__.fn.length>0)return}e.__eq__.object&&e.removeChild(e.__eq__.object),e.__eq__.poller&&r(e),delete e.__eq__}}var c,f,s=0,u=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)},h=[],m=250,p=[],g="display: block;position: absolute;top: 0;left: 0;width: 100%;height: 100%;border: none;padding: 0;margin: 0;opacity: 0;z-index: -1000;pointer-events: none;";return{add:d,remove:l}});
